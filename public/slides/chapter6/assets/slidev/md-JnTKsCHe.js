import{t as b}from"../modules/shiki-Cj5jBmgd.js";import{d as F,t as x,G as B,E as I,D as J,v as m,T,o as q,c as y,k as g,e as n,l as f,m as P,C as s,q as L,s as V,B as M}from"../modules/vue-UhGCpqZq.js";import{m as Y,C as O,r as z,q as K,t as W,v as j,w as _,x as R}from"../index-BudlCRRW.js";import{u as D,f as H}from"./context-Bzx4tVN0.js";import{_ as Z}from"../ShikiMagicMove.vue_vue_type_style_index_0_lang-CDCh9VXy.js";import{_ as X}from"./CodeBlockWrapper.vue_vue_type_script_setup_true_lang-DVhxONqZ.js";import{I as $}from"./default-jFNiapGt.js";import"../lz-string-BjqiNizP.js";import"../modules/file-saver-C8BEGaqa.js";import"../modules/unplugin-icons-Ba2NMH8d.js";const nn=F({props:{at:{type:[Number,String],default:"+1"},unmount:{type:Boolean,default:!1},transition:{type:[Object,String,Boolean],default:!1},tag:{type:String,default:"div"},childTag:{type:String,default:"div"}},setup({at:C,unmount:h,transition:S,tag:A,childTag:E},{slots:v}){const k=Object.entries(v).sort((t,l)=>-t[0].split("-")[0]+ +l[0].split("-")[0]),o=[];let p;for(const[t,l]of k){const r=x();if(Number.isFinite(+t))o.push([+t,p??+t+1,l,r]),p=+t;else{const[a,c]=t.split("-").map(Number);if(!Number.isFinite(a)||!Number.isFinite(c))throw new Error(`Invalid range for v-switch: ${t}`);o.push([a,c,l,r]),p=a}}const e=Math.max(...o.map(t=>t[1]))-1,d=Y(),i=x(0),{$clicksContext:u,$nav:Q}=D();B(()=>{const t=u.calculateSince(C,e);if(!t){i.value=O;return}u.register(d,t),I(()=>{i.value=t.currentOffset.value+1})}),J(()=>{u.unregister(d)});function U(){R.value=!0,b()}const N=S&&{...z(S,Q.value.navDirection<0),tag:A,onAfterLeave:U};return()=>{const t=[];for(let l=o.length-1;l>=0;l--){const[r,a,c,G]=o[l],w=r<=i.value&&i.value<a;h&&!w||t.push(m(E,{key:l,ref:G,class:[K,i.value===r&&W,i.value>=a&&j,!w&&_].filter(Boolean),"data-slidev-clicks-start":r,"data-slidev-clicks-end":a},c==null?void 0:c()))}return N?m(T,R.value?{}:N,()=>t):m(A,t)}}}),sn={class:"flex gap-3"},tn={class:"flex gap-3"},gn={__name:"chapter6.md__slidev_13",setup(C){const{$slidev:h,$nav:S,$clicksContext:A,$clicks:E,$page:v,$renderContext:k,$frontmatter:o}=D();return A.setup(),(p,e)=>{const d=X,i=Z,u=nn;return q(),y($,L(V(M(H)(M(o),12))),{default:g(()=>[e[5]||(e[5]=n("h1",null,"Semaphore (4)",-1)),f(u,null,{"0-1":g(()=>[e[2]||(e[2]=n("ul",null,[n("li",null,"ดังนั้น Solution ที่อธิบายก่อนหน้า")],-1)),n("div",sn,[n("div",null,[f(d,P({},{ranges:[]}),{default:g(()=>e[0]||(e[0]=[n("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[n("code",{class:"language-text"},[n("span",{class:"line"},[n("span",null,"do {")]),s(`
`),n("span",{class:"line"},[n("span",null,"    Entry Section")]),s(`
`),n("span",{class:"line"},[n("span")]),s(`
`),n("span",{class:"line"},[n("span",null,"        Critical Section")]),s(`
`),n("span",{class:"line"},[n("span")]),s(`
`),n("span",{class:"line"},[n("span",null,"    Exit Section")]),s(`
`),n("span",{class:"line"},[n("span")]),s(`
`),n("span",{class:"line"},[n("span",null,"        Remainder Section")]),s(`
`),n("span",{class:"line"},[n("span")]),s(`
`),n("span",{class:"line"},[n("span",null,"} while(true);")])])],-1)])),_:1},16)]),e[1]||(e[1]=n("div",null,[n("ul",null,[n("li",null,[n("p",null,[n("strong",null,"Entry Section"),s(" จะทำหน้าที่ควบคุม (Lock) ไม่ให้ Process อื่นเข้ามาทำงาน")]),n("ul",null,[n("li",null,[n("strong",null,"Critical Section"),s(" คือส่วน Code ที่จะใช้ Shared Resource ร่วมกัน ในระหว่างที่ Process ใด Process หนึ่งทำงาน Process อื่นก็จะทำงานไม่ได้")])])]),n("li",null,[n("p",null,[n("strong",null,"Exit Section"),s(" คือถ้า Process ทำงานเสร็จแล้ว ก็จะ (Unlock) ให้ Process เข้าทำงานในส่วนของ Critical Section ได้")]),n("ul",null,[n("li",null,[n("strong",null,"Remainder Section"),s(" คือ Code ที่ไม่ได้มีการ Lock ทำให้ Process ไหนก็ได้สามารถทำงานได้")])])])])],-1))])]),"1-7":g(()=>[e[4]||(e[4]=n("ul",null,[n("li",null,[s("ดังนั้นเราจะเอาส่วนของ "),n("strong",null,"Wait(S)"),s(" กับ "),n("strong",null,"Signal(S)"),s(" มาครอบ "),n("strong",null,"Critical Section"),s(" เพื่อป้องกัน "),n("strong",null,"Race condition")])],-1)),n("div",tn,[n("div",null,[f(i,P({at:2,lines:!0},{"steps-lz":"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","step-ranges":[["*","2","6"],["2","6","*"]]}),null,16)]),e[3]||(e[3]=n("div",null,[n("ul",null,[n("li",null,[n("p",null,[n("strong",null,"Entry Section"),s(" จะทำหน้าที่ควบคุม (Lock) ไม่ให้ Process อื่นเข้ามาทำงาน")])]),n("li",null,[n("p",null,[n("strong",null,"Exit Section"),s(" คือถ้า Process ทำงานเสร็จแล้ว ก็จะ (Unlock) ให้ Process เข้าทำงานในส่วนของ Critical Section ได้")])])])],-1))])]),_:1})]),_:1},16)}}};export{gn as default};
