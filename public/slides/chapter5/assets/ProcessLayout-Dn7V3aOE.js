import{t as D}from"./modules/shiki-gHWd0iSs.js";import{d as Q,t as V,L as W,D as M,O as G,v as T,aA as U,o as t,b as a,e as n,f as $,g as L,x as u,z as E,F as m,ai as N,c as B,k as C,ac as F,i as O,B as A,l as I}from"./modules/vue-qryzO8Wt.js";import{ai as Y,C as X,aj as q,ak as H,al as J,am as Z,an as ee,Y as z}from"./index-DEIgdP3N.js";import{u as y}from"./slidev/context-OXKqTPeA.js";const Ae=Q({props:{at:{type:[Number,String],default:"+1"},unmount:{type:Boolean,default:!1},transition:{type:[Object,String,Boolean],default:!1},tag:{type:String,default:"div"},childTag:{type:String,default:"div"}},setup({at:e,unmount:s,transition:o,tag:d,childTag:i},{slots:r}){const v=Object.entries(r).sort((l,b)=>-l[0].split("-")[0]+ +b[0].split("-")[0]),h=[];let p;for(const[l,b]of v){const k=V();if(Number.isFinite(+l))h.push([+l,p??+l+1,b,k]),p=+l;else{const[x,w]=l.split("-").map(Number);if(!Number.isFinite(x)||!Number.isFinite(w))throw new Error(`Invalid range for v-switch: ${l}`);h.push([x,w,b,k]),p=x}}const g=Math.max(...h.map(l=>l[1]))-1,_=Y(),f=V(0),{$clicksContext:c,$nav:P}=y();W(()=>{const l=c.calculateSince(e,g);if(!l){f.value=X;return}c.register(_,l),M(()=>{f.value=l.currentOffset.value+1})}),G(()=>{c.unregister(_)});function S(){z.value=!0,D()}const R=o&&{...q(o,P.value.navDirection<0),tag:d,onAfterLeave:S};return()=>{const l=[];for(let b=h.length-1;b>=0;b--){const[k,x,w,K]=h[b],j=k<=f.value&&f.value<x;s&&!j||l.push(T(i,{key:b,ref:K,class:[H,f.value===k&&J,f.value>=x&&Z,!j&&ee].filter(Boolean),"data-slidev-clicks-start":k,"data-slidev-clicks-end":x},w==null?void 0:w()))}return R?T(U,z.value?{}:R,()=>l):T(d,l)}}}),se={class:"flex flex-col gap-3"},te={class:"flex gap-2 w-full"},re={class:"flex"},oe={class:"flex"},ne={__name:"ProcessBaseLayout",props:["data"],setup(e){return y(),(s,o)=>(t(),a("div",se,[n("div",te,[$(s.$slots,"processTable"),$(s.$slots,"processNote")]),n("div",re,[$(s.$slots,"processQueue")]),n("div",oe,[$(s.$slots,"processChart")])]))}},le={class:"flex flex-col justify-center items-center size-8"},ae={class:"absolute mt-20 -ml-10"},ie={key:0,class:"absolute mt-20 -mr-10"},ce={__name:"box",props:["title","subLeft","subRight","totalBts"],setup(e){return y(),(s,o)=>(t(),a("div",le,[L(" <div>{{ title.substring(0,1) }}<sub>{{ title.substring(1) }}</sub></div> "),$(s.$slots,"default"),n("div",ae,u(e.subLeft),1),e.subLeft+1===e.totalBts?(t(),a("div",ie,u(e.subRight),1)):L("v-if",!0)]))}},ue={class:"flex flex mx-auto w-fit mt-3 justify-center"},de={__name:"ProcessChart",props:{processes:{type:Array}},setup(e){y();const s=e;let o=0;const d=E(()=>s.processes.reduce(function(_,f){return f.preemptive?_:_+f.bt},0)),i=E(()=>s.processes.reduce(function(_,f){return _+f.total},0));function r(p,g){return p.order<g.order?-1:p.order>g.order?1:0}function v(p){return s.processes.sort(r)[p]}function h(){return o>=i.value&&(o=0),o++}return(p,g)=>{const _=ce;return t(),a("div",ue,[(t(!0),a(m,null,N(d.value,(f,c)=>(t(),a(m,{key:c},[c<s.processes.length?(t(!0),a(m,{key:0},N(v(c).total,(P,S)=>(t(),a(m,{key:"i"+S},[v(c).id>0?(t(),B(_,{key:0,class:O([`${v(c).color}`,"border"]),subLeft:h(),subRight:A(o),totalBts:d.value},{default:C(()=>[F(u(s.processes[c].name)+u(s.processes[c].id),1)]),_:2},1032,["class","subLeft","subRight","totalBts"])):(t(),B(_,{key:1,class:O([`${v(c).color}`,"border"]),subLeft:h(),subRight:A(o),totalBts:d.value},null,8,["class","subLeft","subRight","totalBts"]))],64))),128)):L("v-if",!0),c>=A(o)?(t(),B(_,{key:1,class:"border",subLeft:c,subRight:c+1,totalBts:d.value},null,8,["subLeft","subRight","totalBts"])):L("v-if",!0)],64))),128))])}}},fe={class:"flex flex-col border size-20"},pe={class:"h-full w-full flex items-center justify-center bg-slate-300"},_e={class:"flex border-b border-t justify-between w-full"},be={class:"w-1/2 flex justify-center"},me={class:"flex content-center justify-between w-full"},ve={key:0,class:"w-1/2 flex justify-center"},he={class:"line-through inlink-block"},ye={class:"inline-block text-red-500 ml-1"},ge={key:1,class:"w-1/2 flex justify-center"},xe={__name:"Process",props:["at","bt","btNew"],setup(e){return y(),(s,o)=>(t(),a("div",fe,[n("div",pe,[$(s.$slots,"default")]),n("div",_e,[o[0]||(o[0]=n("div",{class:"w-1/2 flex justify-center border-r"},"AT",-1)),n("div",be,u(e.at),1)]),n("div",me,[o[1]||(o[1]=n("div",{class:"w-1/2 flex justify-center border-r"},"BT",-1)),e.btNew>=0?(t(),a("div",ve,[n("div",he,u(e.bt),1),n("div",ye,"("+u(e.btNew)+")",1)])):(t(),a("div",ge,u(e.bt),1))])]))}},$e={class:"grid grid-cols-5 gap-3"},ke={__name:"ProcessQueue",props:{processes:{type:Array}},setup(e){y();const s=e;return(o,d)=>{const i=xe;return t(),a("div",$e,[(t(!0),a(m,null,N(s.processes,r=>(t(),a(m,null,[r.show?(t(),B(i,{key:0,at:r.at,bt:r.bt,btNew:r.btNew},{default:C(()=>[F(u(r.name)+u(r.id),1)]),_:2},1032,["at","bt","btNew"])):L("v-if",!0)],64))),256))])}}},we={class:"grid grid-rows-6 grid-cols-3 border-b w-1/2"},Ce={__name:"ProcessTable",props:{processes:{type:Array}},setup(e){y();const s=e;function o(d,i){return d.id<i.id?-1:d.id>i.id?1:0}return(d,i)=>(t(),a("div",we,[i[0]||(i[0]=n("div",{class:"border-b"},"Process",-1)),i[1]||(i[1]=n("div",{class:"border-b"},"Arrival Time (AT)",-1)),i[2]||(i[2]=n("div",{class:"border-b"},"Burst Time (BT)",-1)),(t(!0),a(m,null,N(s.processes.filter(r=>r).sort(o),r=>(t(),a(m,null,[r.id>0&&!r.preemptive?(t(),a(m,{key:0},[n("div",null,u(r.name)+u(r.id)+u(r.status),1),n("div",null,u(r.at),1),n("div",null,u(r.bt),1)],64)):L("v-if",!0)],64))),256))]))}},Le={class:"w-1/2"},Ie={__name:"ProcessLayout",props:{processes:{type:Array}},setup(e){return y(),(s,o)=>{const d=Ce,i=ke,r=de,v=ne;return t(),B(v,null,{processTable:C(()=>[I(d,{processes:e.processes},null,8,["processes"])]),processNote:C(()=>[n("div",Le,[$(s.$slots,"default")])]),processQueue:C(()=>[I(i,{processes:e.processes},null,8,["processes"])]),processChart:C(()=>[I(r,{processes:e.processes},null,8,["processes"])]),_:3})}}};export{Ie as _,Ae as a};
